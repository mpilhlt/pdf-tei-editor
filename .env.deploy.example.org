# Example Deployment Environment File
#
# This file demonstrates how to use bin/deploy.js for automated deployments.
#
# Usage:
#   node bin/deploy.js .env.example.org
#   node bin/deploy.js /path/to/custom.env
#
# Or with sudo for nginx/SSL:
#   sudo env "PATH=$PATH" node bin/deploy.js .env.example.org
#
# Variable Categories:
# ====================
#
# 1. DEPLOY_* Variables (converted to deploy command options):
#    - DEPLOY_FQDN → --fqdn
#    - DEPLOY_DATA_DIR → --data-dir
#    - DEPLOY_TAG → --tag
#    - DEPLOY_PORT → --port
#    - DEPLOY_TYPE → --type
#    - DEPLOY_EMAIL → --email
#    - DEPLOY_PULL=(1|true|on) → --pull (force pull from registry)
#    - DEPLOY_REBUILD=(1|true|on) → --rebuild
#    - DEPLOY_NO_CACHE=(1|true|on) → --no-cache
#    - DEPLOY_NO_NGINX=(1|true|on) → --no-nginx
#    - DEPLOY_NO_SSL=(1|true|on) → --no-ssl
#    - DEPLOY_YES=(1|true|on) → --yes (skip confirmation)
#
# 2. All other variables are passed to the container via --env
#
# Notes:
# - If DEPLOY_FQDN is not set, --no-nginx --no-ssl are added automatically
# - Boolean flags: (1|true|on) = enabled, (''|0|false|off) = omitted
# - See .env.production for all available container environment variables

# ============================================================================
# Deployment Configuration (DEPLOY_*)
# ============================================================================

# Required: Fully qualified domain name
DEPLOY_FQDN=example.org

# Required for production: External data directory
# Must contain files/ and db/ subdirectories (created automatically)
DEPLOY_DATA_DIR=/opt/pdf-tei-editor/data

# Optional: Image tag (default: latest)
DEPLOY_TAG=latest

# Optional: Host port (default: 8001)
DEPLOY_PORT=8001

# Optional: Deployment type - production or demo (default: production)
# Demo deployments ignore DEPLOY_DATA_DIR and use container-internal storage
DEPLOY_TYPE=production

# Optional: Email for SSL certificate (default: admin@<fqdn>)
DEPLOY_EMAIL=admin@example.org

# Optional: Skip nginx setup (requires sudo)
# DEPLOY_NO_NGINX=true

# Optional: Skip SSL setup (requires sudo)
# DEPLOY_NO_SSL=true

# Optional: Skip confirmation prompt
# DEPLOY_YES=true

# Optional: Pull latest image from registry (recommended for production)
# Forces download of the latest image from Docker Hub
# NOTE: Don't use DEPLOY_PULL and DEPLOY_REBUILD together - choose one
DEPLOY_PULL=true

# Optional: Rebuild image before deploying (for local development)
# NOTE: Don't use DEPLOY_REBUILD and DEPLOY_PULL together - choose one
# DEPLOY_REBUILD=true

# Optional: Force rebuild all layers (use with DEPLOY_REBUILD)
# DEPLOY_NO_CACHE=true

# ============================================================================
# Container Environment Variables
# ============================================================================

# User Account Setup
# ------------------
# REQUIRED FOR PRODUCTION: Set secure passwords for admin and demo users
# If neither APP_ADMIN_PASSWORD nor APP_DEMO_PASSWORD are set, the container
# creates default accounts with passwords "admin" and "demo" respectively.
#
APP_ADMIN_PASSWORD=your-secure-admin-password
APP_DEMO_PASSWORD=your-secure-demo-password
#
# These variables create/update users on container startup:
# - admin user: username=admin, roles=admin, email=admin@localhost
# - demo user: username=demo, roles=user,annotator,reviewer, email=demo@localhost

# Custom Login Message (HTML allowed)
# APP_LOGIN_MESSAGE=<h2>Welcome to PDF TEI Editor</h2><p>Please log in to continue.</p>

# AI/ML Services
# GEMINI_API_KEY=your-gemini-api-key-here
# GROBID_SERVER_URL=http://localhost:8070
# KISSKI_API_KEY=your-kisski-api-key-here

# Logging
LOG_LEVEL=INFO
# LOG_CATEGORIES=app,api,plugins

# For other options, see https://github.com/mpilhlt/pdf-tei-editor/blob/devel/.env.production